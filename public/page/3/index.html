<!doctype html><html class="theme-next use-motion"><head><meta name=generator content="Hexo 3.8.0"><meta charset=UTF-8><meta http-equiv=Content-Language content=zh-CN><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta http-equiv=Cache-Control content=no-transform><meta http-equiv=Cache-Control content=no-siteapp><meta http-equiv=Cache-Control content="max-age=864000"><meta name=google-site-verification content=4uI2zlyLHcOQWwwZFmW5SB6dj9mlInB8lIUfeM_L8d8><meta name=baidu_union_verify content=9f6bc0068b476b9afebdb405dbd92112><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel=stylesheet type=text/css><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel=stylesheet type=text/css><link href="/css/main.css?v=1.0.0.0" rel=stylesheet type=text/css><link rel=canonical href=https://zhangjh.me><meta name=keywords content="Hexo,dante notes,但丁笔记,git,javascript,技术人生"><link rel=alternate href=/rss2.xml title=但丁笔记 type=application/atom+xml><link rel="shortcut icon" type=image/x-icon href="/favicon.ico?v=1.0.0.0"><meta name=description content="一个伪文青，一个low geek 孤单的坚持码字"><meta property=og:type content=website><meta property=og:title content=但丁笔记><meta property=og:url content=http://zhangjh.me/page/3/index.html><meta property=og:site_name content=但丁笔记><meta property=og:description content="一个伪文青，一个low geek 孤单的坚持码字"><meta property=og:locale content=zh-Hans><meta name=twitter:card content=summary><meta name=twitter:title content=但丁笔记><meta name=twitter:description content="一个伪文青，一个low geek 孤单的坚持码字"><script type=text/javascript id=hexo.configuration>
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'hide',
    motion: true
  };
</script><script type=text/javascript src="/vendors/jquery/index.js?v=2.1.3"></script><title>但丁笔记 --一个理想主义文青的IT自留地</title><style>
    #msg-tip {
      background-color: orangered;
      color: white;
      position: fixed;
      top: 50px;
      right: 10px;
      z-index: 2;
      display: none;
      cursor: pointer;
    }
    #msg-modal {
      position: fixed;
      top: 20%;
      left: 50%;
      width: 400px;
      margin-left: -200px;
      z-index: 2;
      -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      -moz-box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      padding: 5px 20px;
      background: white;
      display: none;
    }
    #msg-modal h5 {
      float: left;
    }
    #msg-modal .close {
      float: right;
    }
    #modal-body {
      clear: both;
    }
    #modal-body .item a {
      color: #219bde;
    }
  </style></head><body><div id=msg-tip>❗️你有<span>0</span>条未读消息</div><div id=msg-modal><div id=modal-header><h5>消息列表</h5><span class=close>X</span></div><div id=modal-body></div></div><div class="container one-column page-home"><div class=headband></div><header id=header class=header><div class=header-inner><div class=site-meta><div class=custom-logo-site-title><a href="/" class=brand rel=start><span class=logo-line-before><i></i></span> <span class=site-title>但丁笔记</span> <span class=logo-line-after><i></i></span></a></div><p class=site-subtitle></p></div><div class=site-nav-toggle><button><span class=btn-bar></span> <span class=btn-bar></span> <span class=btn-bar></span></button></div><nav class=site-nav><ul id=menu class="menu menu-left"><li class="menu-item menu-item-home"><a href="/" rel=section><i class="menu-item-icon fa fa-home fa-fw"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href=/categories rel=section><i class="menu-item-icon fa fa-th fa-fw"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href=/about rel=section><i class="menu-item-icon fa fa-user fa-fw"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives rel=section><i class="menu-item-icon fa fa-archive fa-fw"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href=/tags rel=section><i class="menu-item-icon fa fa-tags fa-fw"></i><br>标签</a></li><li class="menu-item menu-item-search"><a href=/search rel=section><i class="menu-item-icon fa fa-question-circle fa-fw"></i><br>搜索</a></li><li class="menu-item menu-item-commonweal"><a href=/404 rel=section style="font-weight: bold"><i class="menu-item-icon fa fa-heartbeat fa-fw"></i><br>公益404</a></li></ul><div class=site-search><form class=site-search-form target=_blank action=http://zhannei.baidu.com/cse/site><input type=text name=q size=30 placeholder=站内搜索> <input type=hidden name=cc value=zhangjh.me></form></div></nav></div></header><main id=main class=main><div class=main-inner><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/08/26/volatile/" itemprop=url>Java volatile关键字简析</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-08-26T13:26:03+08:00 content=2017-08-26>2017-08-26</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><p>最近在看《Java编程思想》，记录一些觉得有必要整理的内容。本篇就简要分析一下Java并发编程中遇到的volatile关键字。</p><p>并发编程中，我们通常会遇到以下三个概念：<strong>原子性</strong>、<strong>可视性</strong>以及<strong>有序性</strong>。<br>volatile关键词正式对应可视性这个概念。</p><p>可视性是指，当多个线程访问同一个变量时，一个线程修改了这个变量的值，其他线程能够立即看到修改的值。即便使用了本地缓存，volatile修饰的域也会立即被写入到主存中，而读取操作就是发生在主存中。<br>而相应地，非volatile域上的原子操作不必刷新到主存中去，因此其他读取该域的任务也不必看到这个新值。</p><p>然而，要区分原子性和可视性是不同的概念。volatile关键字能保证可视性但并不能保证操作的原子性。如果一个域的值依赖于它之前的值，例如递增一个计数器，或者某个域的值收到其他域的值的限制，例如Range类的lower和upper边界就必须遵循lower&lt;=upper的限制，那么只用volatie修饰是不起作用的。保持原子性或说同步，第一选择应该是使用<code>synchronized</code>关键字，同步也会导致向主存中刷新，因此<code>synchronized</code>防护的方法或语句块内的域就不必使用<code>volatile</code>修饰了。</p><div class="post-more-link text-center"><a class=btn href="/2017/08/26/volatile/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/07/31/raspberry-autoplay/" itemprop=url>小项目：使用树莓派自动播报当前时间和当天天气</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-07-31T15:19:59+08:00 content=2017-07-31>2017-07-31</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h1 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h1><p>本篇博文分享下使用树莓派结合百度语音合成API进行当前时间和天气自动播报功能的实现。转载请注明出处。</p><p>阅读本文需要你有一定的Linux编码水平(主要是Bash)及一些python基础。<br>这个项目的想法初衷是希望树莓派能够定时地将一些信息通过蓝牙播放设备自动播放出来，初期先播放时间和天气，能够代替一个闹钟了呢，哈哈~~</p><h1 id=方案设计><a href=#方案设计 class=headerlink title=方案设计></a>方案设计</h1><p>方案很简单，设置定时任务，将运行时时间获取到，并同时获取当前天气状况，然后使用百度语音合成API将获取到的信息转换成语音通过蓝牙连接的播放设备播放出来。</p><p>获取天气也使用了百度开放平台提供的接口，因此一共需要有百度开放平台和语音合成API两个接口的调用权限。</p><p><a href="http://lbsyun.baidu.com/index.php?title=webapi" target=_blank rel=noopener><strong>开放平台注册</strong></a><br><a href=http://yuyin.baidu.com/sdk target=_blank rel=noopener><strong>语音合成API注册</strong></a></p><h2 id=获取天气><a href=#获取天气 class=headerlink title=获取天气></a>获取天气</h2><p>我们先来获取天气信息,API的返回结果结构如下：<br><img src=http://wx1.sinaimg.cn/mw690/62d95157gy1fi344u1xbqj20nc0ewac8.jpg><br>我舍弃了穿衣指数什么的，只获取天气数据。</p><div class="post-more-link text-center"><a class=btn href="/2017/07/31/raspberry-autoplay/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/07/31/raspberry-init/" itemprop=url>树莓派安装完系统后必做的几件事--树莓派初始化操作</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-07-31T14:36:25+08:00 content=2017-07-31>2017-07-31</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h1 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h1><p>阅读本文需要你有一定的Linux编码水平，至少能够读懂Bash，对于一个树莓派玩家来说这都不是事儿了吧。</p><p>树莓派使用Micro SD卡来作为系统存储，而SD卡又很容易坏，当我们辛苦配置好的树莓派工作环境因为SD卡挂掉，重装时各种配置又要来一趟真的很奔溃，关键还不记得当初一个个都配置了啥了。。</p><p>我最近在配置树莓派时就遇到了类似的问题，因为挂载移动硬盘出了点差错(下文会说)，导致系统启动失败，以为是系统被我折腾坏了，格了好几遍SD卡重装，每次都要把软件、配置都重来一遍，于是索性将第一次开机后必做的几件事写成了初始化脚本传到github了，重装后直接下下来执行下就解决了。方便多了，再也不怕重装系统。</p><p>顺便记录下导致我写这个自动化初始化树莓派脚本的最初问题。</p><h1 id=问题><a href=#问题 class=headerlink title=问题></a>问题</h1><p>一开始我的树莓派是没有显示器的，都是使用VNC远程连接。最近在配置了不知道哪个东西后，树莓派就连不上了，反复重装过几次，经过一番配置之后重启后必然又连不上。后来搞了跟显示器的连接线，启动后发现树莓派进入了”<strong>emergency mode</strong>“，网上查了下，解决方案对我都不适用，最后我才发现，原来是我在设置自动挂载移动硬盘的时候出错，导致系统启动失败。我的硬盘是NTFS格式的，而树莓派不能直接挂载ntfs格式，需要先安装一个<code>ntfs-3g</code>工具。由于重装过系统，忘记了安装这个，直接将挂载命令写入了fstab文件而又没有验证是否能够挂载成功(毕竟挂载过太多次了，想当然以为没问题了)。</p><div class="post-more-link text-center"><a class=btn href="/2017/07/31/raspberry-init/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/07/05/js-big-number/" itemprop=url>深究浏览器长整型数值精度丢失问题</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-07-05T14:06:36+08:00 content=2017-07-05>2017-07-05</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><blockquote><p><code>alert(28443422041709109)</code>会输出什么？</p></blockquote><h1 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h1><p>在<a href="/2017/06/06/js-max-number/">上一篇博文</a>里我记录了一个诡异的前后端数据不一致的问题，最终定位为前端js精度丢失。但只说了原因及结论并没有深入研究这个问题。<br>这一篇博文准备在此基础上，深入探寻一番，彻底弄清楚这个问题发生的本质。</p><h1 id=引子><a href=#引子 class=headerlink title=引子></a>引子</h1><p>让我们先来看几个小问题热热身：<br><figure class="highlight lsl"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre></td><td class=code><pre><span class=line>## js环境下运行,输出结果是什么？</span><br><span class=line><span class=number>1.</span> console.log(<span class=number>1</span> === <span class=number>1.0</span>);</span><br><span class=line></span><br><span class=line><span class=number>2.</span> console.log(<span class=number>0.1</span> + <span class=number>0.2</span> === <span class=number>0.3</span>);</span><br><span class=line></span><br><span class=line><span class=number>3.</span> console.log(<span class=number>9007199254740992</span>);</span><br><span class=line></span><br><span class=line><span class=number>4.</span> console.log(<span class=number>9007199254740992</span> + <span class=number>1</span>);</span><br><span class=line></span><br><span class=line><span class=number>5.</span> console.log(<span class=number>9007199254740992</span> + <span class=number>2</span>);</span><br><span class=line></span><br><span class=line><span class=number>6.</span> console.log(<span class=number>9007199254740992</span> + <span class=number>3</span>);</span><br><span class=line></span><br><span class=line><span class=number>7.</span> console.log(<span class=number>9007199254740992</span> + <span class=number>4</span>);</span><br><span class=line>... ...</span><br></pre></td></tr></table></figure></p><p>浏览器环境下运行下看看是不是有点颠覆了三观？</p><div class="post-more-link text-center"><a class=btn href="/2017/07/05/js-big-number/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/06/06/js-max-number/" itemprop=url>一个诡异的前后端数据不一致问题的排查</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-06-06T16:21:54+08:00 content=2017-06-06>2017-06-06</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><blockquote><p>这是我转战JAVA以来的第一篇博文，纪念一下。</p></blockquote><h1 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h1><p>组织变动，转战JAVA差不多有一个月了，做了一个小需求，遇到一个诡异的问题。本文记录一下排查经过，顺便提醒自己后续开发中避免这样的坑。</p><h1 id=问题描述><a href=#问题描述 class=headerlink title=问题描述></a>问题描述</h1><p>JAVA后端需要给前端返回一串数据，其中有个交易订单号，该交易订单在返回给前端后跟后端吐出的值不一致。直观地来看，最后的几个数字被0取代了。<br>一开始以为取错了交易订单号，然而从DEBUG的过程来看，后端的处理结果没有问题，返回了正确的结果给前端。<br>如下图所示：<br><img src=http://wx3.sinaimg.cn/mw690/62d95157gy1fgblq39u2kj208l02x74g.jpg><br><img src=http://wx1.sinaimg.cn/mw690/62d95157gy1fgblq2d5a7j20ho07ngmi.jpg></p><p>当时也并没有纠结问题的根本原因，下意识地将交易订单号类型从<code>List&lt;Long&gt;</code>换成了<code>List&lt;String&gt;</code>返回就正常了。</p><p>发布以后觉得这里可能是个坑，于是研究了一下果然是有缘由的。</p><div class="post-more-link text-center"><a class=btn href="/2017/06/06/js-max-number/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/03/14/shell-run-mysql/" itemprop=url>Linux Shell中运行mysql命令</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-03-14T18:08:27+08:00 content=2017-03-14>2017-03-14</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h2 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h2><p>我们经常需要批量地执行很多mysql命令，这时候如果直接在mysql终端下执行，效率很低。如果借助Shell来进行自动化地操作，则会大大方便我们操作。这里就记录一下我用来进行数据库表重建的方法。</p><h2 id=准备mysql脚本><a href=#准备mysql脚本 class=headerlink title=准备mysql脚本></a>准备mysql脚本</h2><p>首先我们要准备相应的mysql命令脚本，以便shell调用。<br>如：<br><figure class="highlight sql"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>DROP</span> <span class=keyword>TABLE</span> <span class=keyword>IF</span> <span class=keyword>EXISTS</span> <span class=string>`attachment`</span>;</span><br><span class=line><span class=keyword>CREATE</span> <span class=keyword>TABLE</span> <span class=string>`attachment`</span> (</span><br><span class=line>  <span class=string>`id`</span> <span class=built_in>bigint</span>(<span class=number>20</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span> AUTO_INCREMENT,</span><br><span class=line>  <span class=string>`init_name`</span> <span class=built_in>varchar</span>(<span class=number>100</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span>,</span><br><span class=line>  <span class=string>`file_path`</span> <span class=built_in>varchar</span>(<span class=number>100</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span>,</span><br><span class=line>  <span class=string>`gmt_create`</span> datetime <span class=keyword>NOT</span> <span class=literal>NULL</span> <span class=keyword>DEFAULT</span> <span class=keyword>now</span>(),</span><br><span class=line>  <span class=string>`gmt_modified`</span> <span class=built_in>timestamp</span> <span class=keyword>NOT</span> <span class=literal>NULL</span> <span class=keyword>DEFAULT</span> <span class=keyword>now</span>(),</span><br><span class=line>  <span class=string>`creator`</span> <span class=built_in>varchar</span>(<span class=number>100</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span> <span class=keyword>DEFAULT</span> <span class=string>'system'</span>,</span><br><span class=line>  <span class=string>`modifier`</span> <span class=built_in>varchar</span>(<span class=number>100</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span> <span class=keyword>DEFAULT</span> <span class=string>'system'</span>,</span><br><span class=line>  <span class=string>`is_deleted`</span> <span class=built_in>char</span>(<span class=number>1</span>) <span class=keyword>NOT</span> <span class=literal>NULL</span> <span class=keyword>DEFAULT</span> <span class=string>'N'</span>,</span><br><span class=line>  PRIMARY <span class=keyword>KEY</span> (<span class=string>`id`</span>)</span><br><span class=line>) <span class=keyword>ENGINE</span>=<span class=keyword>InnoDB</span> AUTO_INCREMENT=<span class=number>460</span> <span class=keyword>DEFAULT</span> <span class=keyword>CHARSET</span>=utf8;</span><br></pre></td></tr></table></figure></p><p>正常写mysql命令即可。</p><div class="post-more-link text-center"><a class=btn href="/2017/03/14/shell-run-mysql/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/03/14/linux-install-mysql/" itemprop=url>Linux下安装mysql</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-03-14T10:22:33+08:00 content=2017-03-14>2017-03-14</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h1 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h1><p>安装Mysql不知道安装了多少次了，但是每次装的时候都要重新查看文档，每次又会遇到不一样的问题。还是记录一下安装步骤吧，省的每次都要重新翻文档了。</p><h1 id=安装步骤><a href=#安装步骤 class=headerlink title=安装步骤></a>安装步骤</h1><p>以安装mysql5.6版本为例，其他版本可以下载官网对应版本，然后查看附带的INSTALL文档。</p><ol><li><p>下载<br><code>wget http://cdn.mysql.com/archives/mysql-5.6/mysql-5.6.26-linux-glibc2.5-x86_64.tar.gz</code></p></li><li><p>解压并改名<br><code>tar -xvf mysql-5.6.26-linux-glibc2.5-x86_64.tar.gz &amp;&amp; mv mysql-5.6.26-linux-glibc2.5-x86_64 mysql</code></p></li><li><p>创建用户组</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=comment>#建议将mysql安装在/usr/local目录</span></span><br><span class=line>mv mysql /usr/<span class=built_in>local</span></span><br><span class=line><span class=built_in>cd</span> mysql</span><br><span class=line>sudo groupadd mysql</span><br><span class=line>sudo useradd -r -g mysql mysql</span><br></pre></td></tr></table></figure></li><li><p>修改权限</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line><span class=selector-tag>sudo</span> <span class=selector-tag>chown</span> <span class=selector-tag>-R</span> <span class=selector-tag>mysql</span><span class=selector-pseudo>:mysql</span> *</span><br></pre></td></tr></table></figure><div class="post-more-link text-center"><a class=btn href="/2017/03/14/linux-install-mysql/" rel=contents>阅读全文 &raquo;</a></div></li></ol></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/02/23/myreading-2017/" itemprop=url>我的阅读-2017</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-02-23T13:27:38+08:00 content=2017-02-23>2017-02-23</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/阅历/" itemprop=url rel=index><span itemprop=name>阅历</span></a></span></span></div></header><div class=post-body><h1 id=已读><a href=#已读 class=headerlink title=已读></a>已读</h1><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B01JLEYPX8/ref=as_li_qf_asin_il_tl?ie=UTF8&tag=dante-23&creative=3200&linkCode=as2&creativeASIN=B01JLEYPX8&linkId=f228299417aa3d21faa8475b1572a00e" target=_blank><br><img src=https://img1.doubanio.com/lpic/s29440008.jpg><br></a></p><blockquote><p>断断续续看完了，说实话对于不太懂经济学的我来说有点枯燥了，以至于7个小时的阅读时长断断续续估计得拖了有一个月，可想而知阅读成效了。虽然很多内容已经忘了差不多了，但好在作者这本书基本上主要讲的还是一个观点，然后反复论证说明，”中国的城镇化发展还远未截止，城市的发展、人口的集聚是大趋势是解决很多问题的方法以及当前政策尤其是限制人口流动违反了城市发展的基本经济学原理”。</p></blockquote><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B001NMTX9S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=dante-23&camp=536&creative=3200&linkCode=as2&creativeASIN=B001NMTX9S&linkId=56d51e50cc70df4fda05d1c657108556" target=_blank><br><img src=https://img3.doubanio.com/lpic/s5968156.jpg><br></a></p><blockquote><p>别被封面图骗了，这其实是一本薄薄的小册子，没有长篇大论，基本都是mysql的实践操作，是一本非常适合入门mysql的书。看完这本书，我的简介里终于可以说自己不单单只会简单的mysql查询了。</p></blockquote><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B01AVMSGA2/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=dante-23&camp=536&creative=3200&linkCode=as2&creativeASIN=B01AVMSGA2&linkId=573592cd869096cbb18470c28a9b5b15" target=_blank><br><img src=https://img3.doubanio.com/lpic/s28390784.jpg><br></a></p><blockquote><p>快递故事是好故事，文字写的不好，任务太多内容太散。书名《快递中国》但全书基本讲的都是中通。</p></blockquote><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B01BWKVEA6/ref=as_li_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B01BWKVEA6&linkCode=as2&tag=dante-23&linkId=438f975a0589d8b4e7e5246a9639195f" target=_blank><br><img src=https://img3.doubanio.com/lpic/s28576474.jpg><br></a></p><blockquote><p>胡适先生这本著作更多的在于考据，我等凡人看的一头雾水。。很多上古文字直接贴一段了事了，根本不鸟你看懂不懂，毕竟北大教科书+_+</p></blockquote><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B019PP1WC0/ref=as_li_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B019PP1WC0&linkCode=as2&tag=dante-23&linkId=2d600a89b8106e1f6919a70ad626ea0a" target=_blank><br><img src=https://img3.doubanio.com/lpic/s1727466.jpg><br></a></p><blockquote><p>不同于王小波的小说，王小波的这本杂文集，没有小黄文，没有太多不正经，没有太多晦涩难懂的东西，但一如既往的黑色幽默。如果说小说是虚构一个故事，将想说的话和道理掩盖在故事里让你去一层层揭示，那么杂文就是明白无误的针对某个事或观点发表自己的意见，将想说的话和道理平铺直叙的表露给读者。看这本书就像人说的，“读一本好书就像跟一个要好的朋友聊天”，小波先生在这本文集里将他的人生观价值观向读者一一道来。应该会看第二遍。我读王小波比较迟，也读的比较少，但算是一见如故的一个作家。第一本大概是《未来世界》，那时候的书评已经找不到了。初看一个陌生的写作者就跟与人交往一样，会有磨合期，你不了解他的生平、观点以及文风，就很难理解他文字的意图，就像王小波的黑色幽默，乍一看时你闹不懂他是正经还是不正经。王小波97年去世享年45岁，在这本文集里，谈论生活态度时，他说“我刚刚过44岁生日，在这个年龄上给自己做结论似乎还为时过早。但我总觉得，我这一生绝不会向虚无投降。我会一直战斗到死”，读来不免扎心不已。</p></blockquote><p><a class=fancybox rel=noopener href="https://amazon.cn/gp/product/B01HXJLN74/ref=as_li_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B01HXJLN74&linkCode=as2&tag=dante-23&linkId=835db5961ecc2e34cfe4b12e8dbea01b" target=_blank><br><img src=https://img3.doubanio.com/lpic/s28688090.jpg><br></a></p><blockquote><p>这是一本很有趣的科普书，以趣味的口吻讲述了进化论对人体如今这个样子是怎样塑造的。对进化论我一直很有兴趣，记得高中时的三大愿望是去研究微观、宇观或者生命起源。迫于现实的压力最终阴差阳错的走上了程序员的道路。其实从某方面来说计算机和人体很相似，计算机是0,1的二进制，人体其实也是一台高精密的仪器，是RNA的四进制’机器’。然而，某种程度上我对进化论还是持有怀疑的。在看过很多大自然的奇迹，诸如人体、诸如蝙蝠的声呐回声定位、蜜蜂的蜂巢、向日葵的种子呈对数螺线分布(星系、台风、花朵、海螺都是这样)…等等一系列有如神迹一般的现象，更不用说人体构成的复杂与精密。让人不生出冥冥之中有神创万物之感真的很难。进化论说，一些微小的变异加上漫长的时间演化，就可以造成这些神迹。果真是印证了那一句话，”时间是解决一切问题的所在”。另一方面，生物的活动，冥冥中都是基因在起作用，我们都是基因的奴隶，我们的生生不息的繁殖都是为了基因的延续，然而基因的永续延续又是为了什么呢？</p></blockquote><p><a class=fancybox rel=noopener href="https://www.amazon.cn/gp/product/B003F25VPY/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B003F25VPY&linkCode=as2&tag=dante-23" target=_blank><br><img src=https://images-cn.ssl-images-amazon.com/images/I/51FlI%2BU0TjL._SX343_BO1,204,203,200_.jpg><br></a></p><blockquote><p>“人生在世最大的两个危险，一个是过早死去，另一个是活得太久”。看到这句真的是”振聋发聩”，有多少人期盼长寿，又有多少人会意识到过于长寿可能带来的穷困潦倒的老年生活危机？”理财要趁早，养老计划要趁早”是我读该书获得的收获，至于怎样理财投资，路漫漫其修远。</p></blockquote><div class="post-more-link text-center"><a class=btn href="/2017/02/23/myreading-2017/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2017/02/04/aws-mongo-protect/" itemprop=url>记一次aws虚机mongodb数据库被黑及后续处理</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2017-02-04T15:49:09+08:00 content=2017-02-04>2017-02-04</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h1 id=1-背景><a href=#1-背景 class=headerlink title="1. 背景"></a>1. 背景</h1><p>我的<a href=http://favlink.me target=_blank rel=noopener>藏经阁网站</a>是部署在aws的虚拟机上的，年前一次访问的时候发现被黑掉了，数据全丢了不说，还被注入了勒索比特币的信息。<br>逗比的是，年前一直没来及处理，年后过来准备处理时，发现原来被黑过一遍的数据库又被黑了第二遍！勒索比特币数值也从0.1变成了0.2。。<br><img src=http://wx3.sinaimg.cn/mw1024/62d95157gy1fcdi9hiv0jj212d0753z7.jpg></p><p>比特币勒索病毒现在非常嚣张，由于比特币交易网络的特殊性，基本上查处不到犯罪分子，中了基本上只能认栽。</p><h1 id=2-安全防护><a href=#2-安全防护 class=headerlink title="2. 安全防护"></a>2. 安全防护</h1><p>布置在外网上的服务器，如果不进行安全防护，基本就是暴露于危险环境下的肉鸡。之前购买的搬瓦工虚拟主机也是几次被用来发送恶意邮件。<br>经过这次数据被黑的惨痛教训，急需补上相应的安全防护。几点简单的防护，可以提升我们的服务免于黑客的攻击。</p><div class="post-more-link text-center"><a class=btn href="/2017/02/04/aws-mongo-protect/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article></section><nav class=pagination><a class="extend prev" rel=prev href="/page/2/"><i class="fa fa-angle-left"></i></a><a class=page-number href="/">1</a><a class=page-number href="/page/2/">2</a><span class="page-number current">3</span><a class=page-number href="/page/4/">4</a><span class=space>&hellip;</span><a class=page-number href="/page/8/">8</a><a class="extend next" rel=next href="/page/4/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=//schema.org/Person><img class=site-author-image src=/images/default_avatar.jpg alt=但丁 itemprop=image><p class=site-author-name itemprop=name>但丁</p></div><p class="site-description motion-element" itemprop=description>一个伪文青，一个low geek 孤单的坚持码字</p><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/archives><span class=site-state-item-count>80</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories><span class=site-state-item-count>5</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags><span class=site-state-item-count>130</span> <span class=site-state-item-name>标签</span></a></div></nav><div class="feed-link motion-element"><a href=/rss2.xml rel=alternate><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/zhangjh target=_blank><i class="fa fa-globe"></i> github</a></span> <span class=links-of-author-item><a href=http://weibo.com/jhspider target=_blank><i class="fa fa-globe"></i> weibo</a></span> <span class=links-of-author-item><a href=http://douban.com/people/48165389 target=_blank><i class="fa fa-globe"></i> douban</a></span></div><div class="cc-license motion-element" itemprop=license><a href=//creativecommons.org/licenses/by-nc-sa/4.0 class=cc-opacity target=_blank><img src=/images/cc-by-nc-sa.svg alt="Creative Commons"></a></div><div class="links-of-author motion-element"></div></section></div></aside></main><footer id=footer class=footer><div class=footer-inner><div class=copyright>&copy; 2015 - <span itemprop=copyrightYear>2018</span> <span class=with-love><i class="icon-next-heart fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>但丁</span></div><div class=powered-by><span id=cnzz_stat_icon_1255577055></span><script src="//s4.cnzz.com/stat.php?id=1255577055&show=pic"></script></div><div class=powered-by>主题 - <a class=theme-link href=javascript:;>NexT.Mist</a></div><div class=powered-by-noline><a href=/issue>网站大事记</a></div><div class=ba-wrapper><div class=ba-info><a target=_blank href="http://www.miitbeian.gov.cn/">浙ICP备16000871-1号</a></div><div class=ba-info><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010802005049"><img src=/images/beian.png> 浙公网安备 33010802005049号</a></div></div><script>
	//将反斜杠替换成下划线,并将中文decode
    var curUrl = decodeURI(window.location.pathname.replace(new RegExp('\\/|\\.', 'g'),"_"));
   
	var statUrl = "https://favlink.cn/visit";

	// 总数
	$.ajax({
		url: statUrl,
		data: {
			url: "sum"
		}
	}).done(function(ret){
		if(ret.cnt > 1){
			if($("#totalCnt").length){
					$("#totalCnt").remove();
			}
			$("span.author").append(" | <span id='totalCnt'>自2016.4.12起总访问量：" + ret.cnt + "次");
		}
	});

	// 明细
	if(curUrl !== "_") {
		$.ajax({
			url: statUrl,
			data: {
				url: curUrl
			}
		}).done(function(ret){
			if(ret.cnt >1){
				$("#detail_cnt").text(ret.cnt);
			}	
		});
	}
</script><br></div></footer><div class=back-to-top></div></div><script type=text/javascript src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type=text/javascript src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type=text/javascript src=/vendors/fancybox/source/jquery.fancybox.pack.js></script><script type=text/javascript src="/js/fancy-box.js?v=1.0.0.0"></script><script type=text/javascript src="/js/helpers.js?v=1.0.0.0"></script><script type=text/javascript src=/vendors/velocity/velocity.min.js></script><script type=text/javascript src=/vendors/velocity/velocity.ui.min.js></script><script type=text/javascript src="/js/motion.js?v=1.0.0.0" id=motion.global></script><script type=text/javascript src=/js/bootstrap.js></script><script src=/js/custom.js></script></body></html>