<!doctype html><html class="theme-next use-motion"><head><meta name=generator content="Hexo 3.8.0"><meta charset=UTF-8><meta http-equiv=Content-Language content=zh-CN><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta http-equiv=Cache-Control content=no-transform><meta http-equiv=Cache-Control content=no-siteapp><meta http-equiv=Cache-Control content="max-age=864000"><meta name=google-site-verification content=4uI2zlyLHcOQWwwZFmW5SB6dj9mlInB8lIUfeM_L8d8><meta name=baidu_union_verify content=9f6bc0068b476b9afebdb405dbd92112><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel=stylesheet type=text/css><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel=stylesheet type=text/css><link href="/css/main.css?v=1.0.0.0" rel=stylesheet type=text/css><link rel=canonical href=https://zhangjh.me><meta name=keywords content="Hexo,dante notes,但丁笔记,git,javascript,技术人生"><link rel=alternate href=/rss2.xml title=但丁笔记 type=application/atom+xml><link rel="shortcut icon" type=image/x-icon href="/favicon.ico?v=1.0.0.0"><meta name=description content="一个伪文青，一个low geek 孤单的坚持码字"><meta property=og:type content=website><meta property=og:title content=但丁笔记><meta property=og:url content=http://zhangjh.me/page/6/index.html><meta property=og:site_name content=但丁笔记><meta property=og:description content="一个伪文青，一个low geek 孤单的坚持码字"><meta property=og:locale content=zh-Hans><meta name=twitter:card content=summary><meta name=twitter:title content=但丁笔记><meta name=twitter:description content="一个伪文青，一个low geek 孤单的坚持码字"><script type=text/javascript id=hexo.configuration>
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'hide',
    motion: true
  };
</script><script type=text/javascript src="/vendors/jquery/index.js?v=2.1.3"></script><title>但丁笔记 --一个理想主义文青的IT自留地</title><style>
    #msg-tip {
      background-color: orangered;
      color: white;
      position: fixed;
      top: 50px;
      right: 10px;
      z-index: 2;
      display: none;
      cursor: pointer;
    }
    #msg-modal {
      position: fixed;
      top: 20%;
      left: 50%;
      width: 400px;
      margin-left: -200px;
      z-index: 2;
      -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      -moz-box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
      padding: 5px 20px;
      background: white;
      display: none;
    }
    #msg-modal h5 {
      float: left;
    }
    #msg-modal .close {
      float: right;
    }
    #modal-body {
      clear: both;
    }
    #modal-body .item a {
      color: #219bde;
    }
  </style></head><body><div id=msg-tip>❗️你有<span>0</span>条未读消息</div><div id=msg-modal><div id=modal-header><h5>消息列表</h5><span class=close>X</span></div><div id=modal-body></div></div><div class="container one-column page-home"><div class=headband></div><header id=header class=header><div class=header-inner><div class=site-meta><div class=custom-logo-site-title><a href="/" class=brand rel=start><span class=logo-line-before><i></i></span> <span class=site-title>但丁笔记</span> <span class=logo-line-after><i></i></span></a></div><p class=site-subtitle></p></div><div class=site-nav-toggle><button><span class=btn-bar></span> <span class=btn-bar></span> <span class=btn-bar></span></button></div><nav class=site-nav><ul id=menu class="menu menu-left"><li class="menu-item menu-item-home"><a href="/" rel=section><i class="menu-item-icon fa fa-home fa-fw"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href=/categories rel=section><i class="menu-item-icon fa fa-th fa-fw"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href=/about rel=section><i class="menu-item-icon fa fa-user fa-fw"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives rel=section><i class="menu-item-icon fa fa-archive fa-fw"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href=/tags rel=section><i class="menu-item-icon fa fa-tags fa-fw"></i><br>标签</a></li><li class="menu-item menu-item-search"><a href=/search rel=section><i class="menu-item-icon fa fa-question-circle fa-fw"></i><br>搜索</a></li><li class="menu-item menu-item-commonweal"><a href=/404 rel=section style="font-weight: bold"><i class="menu-item-icon fa fa-heartbeat fa-fw"></i><br>公益404</a></li></ul><div class=site-search><form class=site-search-form target=_blank action=http://zhannei.baidu.com/cse/site><input type=text name=q size=30 placeholder=站内搜索> <input type=hidden name=cc value=zhangjh.me></form></div></nav></div></header><main id=main class=main><div class=main-inner><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/02/28/freecodecamp-Basic-Algorithm-Scripting/" itemprop=url>freecodecamp算法题解系列（一）--初级算法</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-02-28T17:08:49+08:00 content=2016-02-28>2016-02-28</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h4><blockquote><p>好记性不如烂笔头。</p></blockquote><p><a href="http://www.freecodecamp.com/" target=_blank rel=noopener>freecodecamp</a>是一个开源社区项目，提供免费的在线编程学习训练，主要以前端为主。完成相应的内容还可以获得freecodecamp颁发的电子认证，该电子认证在领英上还可以像普通学历一样作为一项个人的教育经历。<br>不过，freecodecamp最近频繁的更新导致用户体验反而不如之前好了：现在所有你做过的题目都一股脑的放在了一起没有分类了。。以前会按照HTML、CSS、基础算法、中级算法、高级算法、后端等等分门别类一目了然。这些分类在未做题列表里还是这么分，做过的题也有标记，不过如果点进已经做过的题会发现之前的解决方案已经不再自动展现出来了。总之就是很麻烦，如果你想review的话。<br>如此这般就把做过的算法题作为博文梳理下吧，以便日后review巩固用法。</p><h4 id=Basic-Algorithm><a href=#Basic-Algorithm class=headerlink title="Basic Algorithm"></a>Basic Algorithm</h4><p>本篇梳理基础算法，大多数都很简单，如果你有更好的方法欢迎分享，毕竟我的算法水平真的很烂。。梳理只是自己备忘，如果不幸有大神来看过，板砖轻拍。</p><h6 id=1-Reverse-a-String><a href=#1-Reverse-a-String class=headerlink title="1. Reverse a String"></a>1. <a href=http://www.freecodecamp.com/challenges/reverse-a-string target=_blank rel=noopener>Reverse a String</a></h6><blockquote><p>Reverse the provided string.<br>You may need to turn the string into an array before you can reverse it.<br>Your result must be a string.</p></blockquote><p>将给定字符串逆序输出<br><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=function><span class=keyword>function</span> <span class=title>reverseString</span>(<span class=params>str</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>return</span> str.split(<span class=string>""</span>).reverse().join(<span class=string>""</span>);</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>reverseString(<span class=string>"hello"</span>);</span><br></pre></td></tr></table></figure></p><div class="post-more-link text-center"><a class=btn href="/2016/02/28/freecodecamp-Basic-Algorithm-Scripting/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/02/21/FormData/" itemprop=url>使用HTML5 FormData上传文件</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-02-21T15:33:28+08:00 content=2016-02-21>2016-02-21</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><p>前端开发中，每当遇到要写文件上传的功能的时候，第一时间就是去百度搜搜看有没有什么好用的插件。通常要么是用<code>iframe</code>，要么是用一些基于<code>jQuery</code>的插件。（实际也是利用<code>iframe</code>）<br>现在有了<code>HTML5</code>的<code>FormData</code>技术，无需插件就可以实现文件上传功能了，方便多了。本篇博文记录一下我使用<code>FormData</code>上传图片的功能实现。</p><h4 id=FormData简介><a href=#FormData简介 class=headerlink title=FormData简介></a>FormData简介</h4><blockquote><p><code>XMLHttpRequest Level 2</code>添加了一个新的接口<code>FormData</code>.利用<code>FormData</code>对象,我们可以通过<code>JavaScript</code>用一些键值对来模拟一系列表单控件,我们还可以使用<code>XMLHttpRequest</code>的<code>send()</code>方法来异步的提交这个”表单”.比起普通的<code>ajax</code>,使用<code>FormData</code>的最大优点就是我们可以异步上传一个二进制文件. —- <a href=https://developer.mozilla.org/zh-CN/docs/Web/API/FormData target=_blank rel=noopener>来自mozilla MDN</a></p></blockquote><p><code>XMLHttpRequest</code>就是我们使用的<code>ajax</code>技术，简单来说<code>FormData</code>提供了一种直接异步上传文件的技术。<br>利用<code>FormData</code>对象，你可以使用一系列的键值对来模拟一个完整的表单，然后使用<code>XMLHttpRequest</code>发送这个”表单”。</p><p>“Talk is Cheap”，让我们直接来看使用实例吧。</p><div class="post-more-link text-center"><a class=btn href="/2016/02/21/FormData/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/02/19/gulp-minify-blog/" itemprop=url>使用gulp精简hexo博客代码</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-02-19T13:16:20+08:00 content=2016-02-19>2016-02-19</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h4><p>Next主题在Hexo引擎解析md时生成的代码会包含大量的无用空白,见下图.<br><img src=http://ww3.sinaimg.cn/mw690/62d95157gw1f14j30rf5xj20z00kv76i.jpg><br>这对有完美主义倾向的我们来说是个很折磨的体验,并且多余的空白也会增加文档的大小,使得网站在响应上不够迅速,影响体验.<br><a href="/2016/02/19/gulp-learning/">上一篇博文</a>提到了使用gulp压缩前端代码,本篇博文趁热打铁,就gulp在Hexo博客优化上进行一番实践.</p><h4 id=优化实践><a href=#优化实践 class=headerlink title=优化实践></a>优化实践</h4><h5 id=1-博客根目录下创建gulpfile-js文件><a href=#1-博客根目录下创建gulpfile-js文件 class=headerlink title="1. 博客根目录下创建gulpfile.js文件"></a>1. 博客根目录下创建gulpfile.js文件</h5><h5 id=2-安装gulp以及依赖插件并保存到项目依赖><a href=#2-安装gulp以及依赖插件并保存到项目依赖 class=headerlink title="2. 安装gulp以及依赖插件并保存到项目依赖"></a>2. 安装gulp以及依赖插件并保存到项目依赖</h5><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install -d --save gulp gulp-clean gulp-load-plugins gulp-minify-css gulp-minify-html gulp-rename gulp-uglify gulp-shell</span><br></pre></td></tr></table></figure><h5 id=3-编写gulp优化任务><a href=#3-编写gulp优化任务 class=headerlink title="3. 编写gulp优化任务"></a>3. 编写gulp优化任务</h5><div class="post-more-link text-center"><a class=btn href="/2016/02/19/gulp-minify-blog/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/02/19/gulp-learning/" itemprop=url>gulp入门初步--使用gulp压缩前端代码</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-02-19T09:43:28+08:00 content=2016-02-19>2016-02-19</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=gulp简介><a href=#gulp简介 class=headerlink title=gulp简介></a>gulp简介</h4><p>gulp是一个前端项目构建工具,用自动化构建工具增强你的工作流程<a href="http://www.gulpjs.com.cn/" target=_blank rel=noopener>gulp中文官网语</a><br>gulp利用Node.js流的威力,减少了频繁的IO操作,让构建更快速,学习起来也是非常迅速.<br>本篇博客就将对使用gulp进行前端代码的压缩方面做一个入门级的介绍,也是我的gulp入门学习总结.</p><h4 id=安装><a href=#安装 class=headerlink title=安装></a>安装</h4><ol><li><p>首先假设已经安装了node环境,如果没有安装请出门左转<a href="https://nodejs.org/" target=_blank rel=noopener>node官网</a>参考</p></li><li><p>全局安装gulp</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install -g -d gulp</span><br></pre></td></tr></table></figure></li><li><p>运行<code>gulp -v</code>,如果正常打印版本号则安装成功</p></li></ol><div class="post-more-link text-center"><a class=btn href="/2016/02/19/gulp-learning/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/01/28/lazy-load/" itemprop=url>延迟加载原理及实现</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-01-28T15:36:13+08:00 content=2016-01-28>2016-01-28</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=懒加载><a href=#懒加载 class=headerlink title=懒加载></a>懒加载</h4><p>“懒加载”或谓”延迟加载”、”按需加载”是一种网页性能优化的技术。在很多场景下被使用，如微博的信息流，百度的图片搜索以及阿里巴巴的底部p4p，右侧p4p等，都是在用户访问到的时候才加载，这样可以避免在加载页面时加载过多资源造成页面渲染时间拉长，影响用户体验。<br>一直想了解下p4p异步加载的实现方式，没有前端的代码权限，因此只能自己琢磨，本文即是在内部光年平台的开发过程中，探索并应用的一种懒加载方法。总结记录如下。</p><h4 id=屏幕高宽相关属性><a href=#屏幕高宽相关属性 class=headerlink title=屏幕高宽相关属性></a>屏幕高宽相关属性</h4><p>正式开始前，首先总结一下，跟浏览器以及网页文档高宽相关的几个属性，这几个属性对于后文要说到的懒加载实现方法有重要意义。</p><ol><li>网页可见区域宽<br><code>document.body.clientWidth</code></li><li>网页可见区域高<br><code>document.body.clientHeight</code></li><li>网页正文全文宽<br><code>document.body.scrollWidth</code></li><li>网页正文全文高<br><code>document.body.scrollHeight</code></li><li>网页被滚动的高<br><code>document.body.scrollTop</code></li><li>网页被滚动的左<br><code>document.body.scrollLeft</code></li><li>屏幕分辨率宽<br><code>window.screen.height</code></li><li>屏幕分辨率高<br><code>window.screen.width</code></li><li>网页元素绝对位置<br>屏幕的坐标系原点位于屏幕左上角，所以一个元素的绝对位置指的是相对于屏幕左上角的坐标值。该值需要通过计算才能得到。<br>每个元素都有offsetLeft和offsetTop属性，表示该元素的左上角相对父元素左上角的距离。因此只要将元素自身的offsetLeft，offsetTop和其父元素的值相加，即可得到该元素的绝对坐标。<br>参见下图：<br><img src=http://ww2.sinaimg.cn/mw690/62d95157gw1f0jtsa67o9g20dw0aewec.gif><br>有一些属性在懒加载实现方法中并未用到，考虑到比较常用，一并整理在此以作备忘。</li></ol><div class="post-more-link text-center"><a class=btn href="/2016/01/28/lazy-load/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2016/01/08/beian/" itemprop=url>备案那点小事</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2016-01-08T15:43:07+08:00 content=2016-01-08>2016-01-08</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/心情杂感/" itemprop=url rel=index><span itemprop=name>心情杂感</span></a></span></span></div></header><div class=post-body><p>时隔9天，小破站关站9天之后重开，官老爷的一条备案通过短信终于宣告我这小站终于迎来了合法身份，再也不是一个法外黑户。也宣告我那份小小的倔强与骄傲终究向现实妥协。</p><p>我本可以继续选择不备案，但是在现实情况下，不备案意味着很多不便：</p><ol><li>免费的cdn加速基本都需要备案first</li><li>万网的域名解析显性URL或者隐型URL跳转需要备案first</li><li>加入国内的广告联盟需要备案first</li><li>甚至不备案cn域名都不能解析</li><li>……</li></ol><p>为了能用上上述功能，最终还是决定备案。我曾YY过，备案过后，一旦我发表点什么发动言论，那把悬在头顶的”达摩克里斯之剑”就会掉下来，公安开始上门抓人。。。哈哈，备案在我看来更多的是”防君子不防小人”，阻拦的都是没什么做恶之心的人，真想做恶的人管你刀山火海上天入地。就像GFW，想翻墙的人想尽办法也会翻，不想翻的没有墙也不会去看。无非多了一个恶心人的东西。什么时候针对”麻烦事儿”不是一味去堵，而是去设法疏导就好了，我仅一介布衣，键盘侠一名，吐吐槽差不多是我能做的为数不多的事了。</p><div class="post-more-link text-center"><a class=btn href="/2016/01/08/beian/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2015/12/28/myreading-2015/" itemprop=url>我的阅读-2015</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2015-12-28T19:13:06+08:00 content=2015-12-28>2015-12-28</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/阅历/" itemprop=url rel=index><span itemprop=name>阅历</span></a></span></span></div></header><div class=post-body><h1 id=在读><a href=#在读 class=headerlink title=在读></a>在读</h1><h1 id=已读><a href=#已读 class=headerlink title=已读></a>已读</h1><p><img src=http://img3.doubanio.com/lpic/s28340239.jpg alt="古董局中局 4 : 大结局"></p><blockquote><p>这大结局看着还是挺失落的 果然是架构铺的太大bug就多了。掉了好些年的老朝奉胃口，铺垫了的好多伏笔，最后的解释没能生出“老朝奉原来是他”的感叹，而是一种不给力的感觉，仿佛这个老朝奉是被栽赃的一样。。anyway，除去结局释疑不够给力，亲王这书还是看的挺下饭的。</p></blockquote><p><img src=https://img3.doubanio.com/lpic/s28280322.jpg alt=夭折></p><blockquote><p>很可怕的一个故事，人的出生真的是带着宿命。。</p></blockquote><p><img src=http://img3.doubanio.com/lpic/s28215148.jpg alt=忏悔录></p><blockquote><p>这本书读完很压抑，读的时候即如是。我们每一个人都曾思考过人生的意义，然而多数情况下都是寻找不到答案。年长的人告诉我们，不要思考什么意义，那会走火入魔的。于是在渐渐成长的过程中，我们逐渐向这个人生终极的问题妥协，步入并适应了这个古往今来人类既定的模式中生活，只管生活不管意义。可是每当夜深人静，生活苦闷时，那股压抑在心底的欲望偶尔会升起：人生到底有什么意义？我活着就是要走一遍世上无数人已经都走过一遍的路吗？从呱呱坠地，到求学工作，娶妻生子再逐步步入死亡？找不到意义，这个问题就像幽灵一般萦绕在心底，时不时地如毒蛇般出来噬咬你一口。托翁在这本薄薄的小册子里最终以一个怀疑论者的态度“皈依”了宗教信仰，“只有信仰才可得活”，这个观点与我是万万不能接受的。但我也不能接受那种“生命的过程就是生命的意义”的观点，这种观点通俗地说就是，好好过天就是人生最大的意义，这其实也是一种妥协，没有任何实质的探究，毕竟是先有了生命才有生命的过程，于是为何会有生命？这种不知为何而活的浑浑噩噩状态让托翁萌生自杀的念头，我没那么极端，倒是有点悲观厌世。后来在阅读一些科幻小说的过程中得到点启示，个人的生命放之于人类基因永续传播的长河中来看，何其的卑微缥缈，而人类对抗时间的唯一武器就是不断的传递自己的基因，让基因与时间一起永恒。说白了，人只是基因的工具，人类认识自身发现未知才是人类存在的意义吧？而个体只有在作为一个整体时意义才“涌现”出来吧。</p></blockquote><p><img src=http://img3.doubanio.com/lpic/s27467851.jpg alt=三国史话></p><blockquote><p>三国史话，在吃饭睡前等零碎时间内看完，篇尾几则文言附录一则跟前白话正文多有重复，二则实在是看的犯困并未看完。三国史由于在演义的熏陶下，可以说是国人最为熟悉热衷的一段历史。作者在这篇史话里另辟蹊径，就演义、后汉书、三国志等的观点予以了一定反驳，剖析东汉乱源，给曹操、魏延翻案，给 刘备、周瑜、邓艾、钟会等提出了与通俗见解不一致的解读，倒是未提及赵云、黄忠半字。。<br>关于道教张天师与张角老子关系的分析也是相当有趣。<br>读史以明志，看完印象较深的属说刘备工于心计丢荆州失鼎立均势的评语：所以心计过工，有时也会成为失败的原因，真个阅历多的人，倒觉得凡事还是少用机谋，依着正义而行的好了。</p></blockquote><div class="post-more-link text-center"><a class=btn href="/2015/12/28/myreading-2015/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2015/12/24/local-weather/" itemprop=url>业余项目之利用天气API实现简单的城市天气预报</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2015-12-24T15:31:52+08:00 content=2015-12-24>2015-12-24</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><p>近期在学习一些web全栈的东西，业余时间做了些小项目。这个天气预报的小项目属于其中之一。本身技术没有什么难的，主要是找免费可用的天气API比较费劲。最后还是使用了百度的开放API，中国天气的就不说了，打开个链接都费劲，好不容易进去了，注册的时候提示你”内部服务器错误”。。据说还不免费，纳税人交钱建立的组织，数据使用下还要交钱，哪说理去。百度的API还不错，只是没有雾霾指数。简单记录如下。</p><h4 id=HTML容器><a href=#HTML容器 class=headerlink title=HTML容器></a>HTML容器</h4><p>使用bootstrap布局，当天的预报信息显示一行，其余三天信息缩小放在下一行（百度API只提供四天的天气预测）。<br>每天的天气信息包括：一个天气图标（可随天气变化），一个温度显示。<br>再下一行显示本地城市信息、天气情况以及风力情况。<br>效果如下：<br><img src=http://ww3.sinaimg.cn/mw690/62d95157gw1ezav90p4qcj211y0hek0d.jpg></p><div class="post-more-link text-center"><a class=btn href="/2015/12/24/local-weather/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2015/12/21/mongoose-update-all/" itemprop=url>mongoose更新所有命中的文档</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2015-12-21T16:44:27+08:00 content=2015-12-21>2015-12-21</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h4><p>我的mongodb数据库通过mongoose读写，自定义了mongoose的读写接口。之前的历史数据在写的时候由于一个小bug，导致插入的数据id字段都一样（本来是作为主键区分数据的）。<br>于是在修改数据的时候，使用id就不可用了，因此额外写了个脚本想批量将这些历史数据订正。<br>结果在实际运行的过程中发现，总是有数据不生效，反复调试了很长时间，最终怀疑是更新时只更新到了第一次匹配的数据，而后实践表明确实如此。<br>写完mongoose读写接口之后就再也没有研究mongoose了，对mongoose API不熟悉了。。这篇文档以为记。</p><h4 id=解决方法><a href=#解决方法 class=headerlink title=解决方法></a>解决方法</h4><p>mongoose的<a href=http://mongoosejs.com/docs/api.html#model_Model.update target=_blank rel=noopener><strong>API</strong></a>里写到mongoose的update方法使用方法如下：<br><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>Model.update(conditions, doc, [options], [callback])</span><br></pre></td></tr></table></figure></p><div class="post-more-link text-center"><a class=btn href="/2015/12/21/mongoose-update-all/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article><article class="post post-type-normal" itemscope itemtype=//schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href="/2015/12/17/gitcafe-dns/" itemprop=url>gitcafe pages托管的博客dns解析</a></h1><div class=post-meta><span class=post-time>发表于<time itemprop=dateCreated datetime=2015-12-17T16:35:45+08:00 content=2015-12-17>2015-12-17</time></span> <span class=post-category>&nbsp; | &nbsp; 分类于 <span itemprop=about itemscope itemtype=https://schema.org/Thing><a href="/categories/技术人生/" itemprop=url rel=index><span itemprop=name>技术人生</span></a></span></span></div></header><div class=post-body><h4 id=背景><a href=#背景 class=headerlink title=背景></a>背景</h4><p>博客托管在github上，目前有很重要的两个问题：<br><blockquote class=blockquote-center><ol><li>github拒绝百度收录</li><li>每次发文章都会有github page build warning告警邮件</li></ol></blockquote></p><p>上次写了一篇解决告警邮件的问题，但百度不能收录的问题貌似不能同时被解决。虽然改回去以后短暂的百度可以收录了，但今天看又不能收录了，真是。。。</p><p>于是今天又折腾了一把，把博客迁移到gitcafe上托管了，不纠缠了，顺带还能提升访问速度。</p><p>本篇不是探讨如何迁移，网上一搜已经一把了，主要想记录一下迁移到gitcafe后如何进行自定义域名的解析。<br>关于这个问题，网上一水的文章，就没看到一个解释清楚了的，都是直接就贴配置了，但那些ip都是怎么来的呢？没有任何的说明，难道我的配置也可以写你的ip？这个就连<a href=https://help.gitcafe.com/manuals/help/pages-services#绑定自定义域名 target=_blank rel=noopener><strong>官方的help文档</strong></a>也是语焉不详。</p><p>以下是我自己折腾成功后的结果，记录下来供后来者借鉴。为此还付出了网站一段时间无法访问的代价。。</p><div class="post-more-link text-center"><a class=btn href="/2015/12/17/gitcafe-dns/" rel=contents>阅读全文 &raquo;</a></div></div><footer class=post-footer><div class=post-eof></div></footer></article></section><nav class=pagination><a class="extend prev" rel=prev href="/page/5/"><i class="fa fa-angle-left"></i></a><a class=page-number href="/">1</a><span class=space>&hellip;</span><a class=page-number href="/page/5/">5</a><span class="page-number current">6</span><a class=page-number href="/page/7/">7</a><a class=page-number href="/page/8/">8</a><a class="extend next" rel=next href="/page/7/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=//schema.org/Person><img class=site-author-image src=/images/default_avatar.jpg alt=但丁 itemprop=image><p class=site-author-name itemprop=name>但丁</p></div><p class="site-description motion-element" itemprop=description>一个伪文青，一个low geek 孤单的坚持码字</p><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/archives><span class=site-state-item-count>80</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories><span class=site-state-item-count>5</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags><span class=site-state-item-count>130</span> <span class=site-state-item-name>标签</span></a></div></nav><div class="feed-link motion-element"><a href=/rss2.xml rel=alternate><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/zhangjh target=_blank><i class="fa fa-globe"></i> github</a></span> <span class=links-of-author-item><a href=http://weibo.com/jhspider target=_blank><i class="fa fa-globe"></i> weibo</a></span> <span class=links-of-author-item><a href=http://douban.com/people/48165389 target=_blank><i class="fa fa-globe"></i> douban</a></span></div><div class="cc-license motion-element" itemprop=license><a href=//creativecommons.org/licenses/by-nc-sa/4.0 class=cc-opacity target=_blank><img src=/images/cc-by-nc-sa.svg alt="Creative Commons"></a></div><div class="links-of-author motion-element"></div></section></div></aside></main><footer id=footer class=footer><div class=footer-inner><div class=copyright>&copy; 2015 - <span itemprop=copyrightYear>2018</span> <span class=with-love><i class="icon-next-heart fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>但丁</span></div><div class=powered-by><span id=cnzz_stat_icon_1255577055></span><script src="//s4.cnzz.com/stat.php?id=1255577055&show=pic"></script></div><div class=powered-by>主题 - <a class=theme-link href=javascript:;>NexT.Mist</a></div><div class=powered-by-noline><a href=/issue>网站大事记</a></div><div class=ba-wrapper><div class=ba-info><a target=_blank href="http://www.miitbeian.gov.cn/">浙ICP备16000871-1号</a></div><div class=ba-info><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010802005049"><img src=/images/beian.png> 浙公网安备 33010802005049号</a></div></div><script>
	//将反斜杠替换成下划线,并将中文decode
    var curUrl = decodeURI(window.location.pathname.replace(new RegExp('\\/|\\.', 'g'),"_"));
   
	var statUrl = "https://favlink.cn/visit";

	// 总数
	$.ajax({
		url: statUrl,
		data: {
			url: "sum"
		}
	}).done(function(ret){
		if(ret.cnt > 1){
			if($("#totalCnt").length){
					$("#totalCnt").remove();
			}
			$("span.author").append(" | <span id='totalCnt'>自2016.4.12起总访问量：" + ret.cnt + "次");
		}
	});

	// 明细
	if(curUrl !== "_") {
		$.ajax({
			url: statUrl,
			data: {
				url: curUrl
			}
		}).done(function(ret){
			if(ret.cnt >1){
				$("#detail_cnt").text(ret.cnt);
			}	
		});
	}
</script><br></div></footer><div class=back-to-top></div></div><script type=text/javascript src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type=text/javascript src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type=text/javascript src=/vendors/fancybox/source/jquery.fancybox.pack.js></script><script type=text/javascript src="/js/fancy-box.js?v=1.0.0.0"></script><script type=text/javascript src="/js/helpers.js?v=1.0.0.0"></script><script type=text/javascript src=/vendors/velocity/velocity.min.js></script><script type=text/javascript src=/vendors/velocity/velocity.ui.min.js></script><script type=text/javascript src="/js/motion.js?v=1.0.0.0" id=motion.global></script><script type=text/javascript src=/js/bootstrap.js></script><script src=/js/custom.js></script></body></html>